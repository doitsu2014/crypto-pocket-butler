# Database Configuration
# PostgreSQL connection string
DATABASE_URL=postgres://postgres:postgres@localhost/crypto_pocket_butler

# Database Connection Pool Configuration (Optional - defaults shown)
DB_MAX_CONNECTIONS=100        # Maximum concurrent database connections
DB_MIN_CONNECTIONS=5          # Minimum idle connections to maintain
DB_CONNECT_TIMEOUT_SECS=30    # Connection timeout in seconds
DB_ACQUIRE_TIMEOUT_SECS=30    # Pool acquisition timeout in seconds
DB_IDLE_TIMEOUT_SECS=600      # Idle connection timeout in seconds (10 minutes)
DB_MAX_LIFETIME_SECS=1800     # Maximum connection lifetime in seconds (30 minutes)

# Keycloak Authentication Configuration
# URL of your Keycloak server
KEYCLOAK_SERVER=https://keycloak.example.com
# Keycloak realm name
KEYCLOAK_REALM=myrealm
# Keycloak client ID (audience for JWT validation)
KEYCLOAK_AUDIENCE=account

# Server Configuration (Optional)
# The port the server will listen on (default: 3000)
# SERVER_PORT=3000
# The host the server will bind to (default: 0.0.0.0)
# SERVER_HOST=0.0.0.0

# Logging Configuration (Optional)
# Rust logging level filter (default: crypto_pocket_butler_backend=debug)
# RUST_LOG=crypto_pocket_butler_backend=debug,tower_http=debug

# Job Scheduler Configuration (Optional)
# Enable/disable top coins collection job (default: true)
TOP_COINS_COLLECTION_ENABLED=true
# Cron schedule for top coins collection job (default: daily at midnight UTC)
# Format: "sec min hour day_of_month month day_of_week year"
# Examples:
#   "0 0 0 * * *" - Daily at midnight UTC
#   "0 0 2 * * *" - Daily at 2:00 AM UTC
#   "0 0 */6 * * *" - Every 6 hours
TOP_COINS_COLLECTION_SCHEDULE=0 0 0 * * *
# Number of top coins to collect (default: 100, max: 250)
TOP_COINS_COLLECTION_LIMIT=100

# Enable/disable price collection job (default: true)
PRICE_COLLECTION_ENABLED=true
# Cron schedule for price collection job (default: every 15 minutes)
# Format: "sec min hour day_of_month month day_of_week year"
# Examples:
#   "0 */15 * * * *" - Every 15 minutes
#   "0 */5 * * * *" - Every 5 minutes
#   "0 0 * * * *" - Every hour
PRICE_COLLECTION_SCHEDULE=0 */15 * * * *
# Number of top coins to include in price collection (default: 100, max: 250)
PRICE_COLLECTION_LIMIT=100

# Enable/disable contract addresses collection job (default: true)
CONTRACT_ADDRESSES_COLLECTION_ENABLED=true
# Cron schedule for contract addresses collection job (default: daily at 1:00 AM UTC)
# Format: "sec min hour day_of_month month day_of_week year"
# Examples:
#   "0 0 1 * * *" - Daily at 1:00 AM UTC
#   "0 0 2 * * *" - Daily at 2:00 AM UTC
#   "0 0 */12 * * *" - Every 12 hours
CONTRACT_ADDRESSES_COLLECTION_SCHEDULE=0 0 1 * * *
# Optional limit on number of assets to process per run (omit or set to 0 for no limit)
# CONTRACT_ADDRESSES_COLLECTION_LIMIT=100

# Enable/disable EOD snapshot job (default: true)
EOD_SNAPSHOT_ENABLED=true
# Cron schedule for EOD snapshot job (default: daily at 23:00 UTC)
# Format: "sec min hour day_of_month month day_of_week year"
# Examples:
#   "0 0 23 * * *" - Daily at 23:00 (11:00 PM) UTC
#   "0 0 0 * * *" - Daily at midnight UTC
#   "0 30 22 * * *" - Daily at 22:30 (10:30 PM) UTC
EOD_SNAPSHOT_SCHEDULE=0 0 23 * * *
